//
//  FSBoundsPenTests.m
//  FontScriptTests
//
//  Created by David Schweinsberg on 6/13/18.
//  Copyright Â© 2018 David Schweinsberg. All rights reserved.
//

#import <XCTest/XCTest.h>
#import "FSBoundsPen.h"

@interface FSBoundsPenTests : XCTestCase

@end

@implementation FSBoundsPenTests

- (void)setUp {
  [super setUp];
  // Put setup code here. This method is called before the invocation of each test method in the class.
}

- (void)tearDown {
  // Put teardown code here. This method is called after the invocation of each test method in the class.
  [super tearDown];
}

- (void)testBounds1 {
  FSBoundsPen *pen = [[FSBoundsPen alloc] init];
  [pen moveToPoint:CGPointMake(0.0, 0.0)];
  [pen curveToPoints:@[[NSValue valueWithPoint:CGPointMake(25.0, 100.0)],
                       [NSValue valueWithPoint:CGPointMake(75.0, 100.0)],
                       [NSValue valueWithPoint:CGPointMake(100.0, 0.0)]]];
  XCTAssertEqual(CGRectGetMinX(pen.bounds), 0.0);
  XCTAssertEqual(CGRectGetMinY(pen.bounds), 0.0);
  XCTAssertEqual(CGRectGetMaxX(pen.bounds), 100.0);
  XCTAssertEqual(CGRectGetMaxY(pen.bounds), 75.0);
}

- (void)testBounds2 {
  FSBoundsPen *pen = [[FSBoundsPen alloc] init];
  [pen moveToPoint:CGPointMake(0.0, 0.0)];
  [pen curveToPoints:@[[NSValue valueWithPoint:CGPointMake(50.0, 0.0)],
                       [NSValue valueWithPoint:CGPointMake(100.0, 50.0)],
                       [NSValue valueWithPoint:CGPointMake(100.0, 100.0)]]];
  XCTAssertEqual(CGRectGetMinX(pen.bounds), 0.0);
  XCTAssertEqual(CGRectGetMinY(pen.bounds), 0.0);
  XCTAssertEqual(CGRectGetMaxX(pen.bounds), 100.0);
  XCTAssertEqual(CGRectGetMaxY(pen.bounds), 100.0);
}

- (void)testBounds3 {
  FSBoundsPen *pen = [[FSBoundsPen alloc] init];
  [pen moveToPoint:CGPointMake(50.0, 0.0)];
  [pen curveToPoints:@[[NSValue valueWithPoint:CGPointMake(0.0, 100.0)],
                       [NSValue valueWithPoint:CGPointMake(100.0, 100.0)],
                       [NSValue valueWithPoint:CGPointMake(50.0, 0.0)]]];
  XCTAssertEqual(CGRectGetMinX(pen.bounds), 35.566243270259356);
  XCTAssertEqual(CGRectGetMinY(pen.bounds), 0.0);
  XCTAssertEqual(CGRectGetMaxX(pen.bounds), 64.43375672974068);
  XCTAssertEqual(CGRectGetMaxY(pen.bounds), 75.0);
}

@end
